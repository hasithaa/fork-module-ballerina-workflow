<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!-- Exclude test files -->
    <Match>
        <Source name="~.*Test\.java" />
    </Match>
    
    <!-- Exclude generated files -->
    <Match>
        <Source name="~.*target.*" />
    </Match>
    
    <!-- Exclude specific warnings -->
    <Match>
        <Bug pattern="EI_EXPOSE_REP" />
    </Match>
    
    <Match>
        <Bug pattern="EI_EXPOSE_REP2" />
    </Match>
    
    <!-- Singleton pattern - intentionally exposing internal representation -->
    <Match>
        <Bug pattern="MS_EXPOSE_REP" />
    </Match>
    
    <!-- Dead local stores in placeholder implementations -->
    <Match>
        <Bug pattern="DLS_DEAD_LOCAL_STORE" />
    </Match>
    
    <!-- Inconsistent sync in simple initialized flag -->
    <Match>
        <Class name="io.ballerina.stdlib.workflow.runtime.WorkflowRuntime" />
        <Bug pattern="IS2_INCONSISTENT_SYNC" />
    </Match>
    
    <!-- Exception is caught for broad error handling in native implementations -->
    <Match>
        <Bug pattern="REC_CATCH_EXCEPTION" />
    </Match>
    
    <!-- Lazy initialization is intentional for test server singleton -->
    <Match>
        <Class name="io.ballerina.stdlib.workflow.testing.TestServerNative" />
        <Bug pattern="LI_LAZY_INIT_STATIC" />
    </Match>
    
    <!-- System.exit is intentional for CLI commands (main, checkStatus) -->
    <Match>
        <Class name="io.ballerina.stdlib.workflow.testing.TestServerNative" />
        <Bug pattern="DM_EXIT" />
    </Match>
    
    <!-- Private methods in WorkflowRuntime reserved for future use (correlation support) -->
    <Match>
        <Class name="io.ballerina.stdlib.workflow.runtime.WorkflowRuntime" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
    
    <!-- Private methods in BallerinaWorkflowAdapter reserved for future use (correlation support) -->
    <Match>
        <Class name="io.ballerina.stdlib.workflow.worker.WorkflowWorkerNative$BallerinaWorkflowAdapter" />
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD" />
    </Match>
</FindBugsFilter>
