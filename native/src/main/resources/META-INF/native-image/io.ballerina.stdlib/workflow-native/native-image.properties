# Native Image Configuration for Ballerina Workflow Module
# 
# This configuration resolves class initialization conflicts between
# Temporal SDK's gRPC/Netty shaded dependencies and SLF4J.
#
# The Temporal SDK specifies runtime initialization for Netty's SLF4J logger,
# but the Ballerina runtime uses slf4j-jdk14 which gets initialized at build time.
# We override to initialize all SLF4J related classes at build time.

Args = --initialize-at-build-time=org.slf4j \
       --initialize-at-build-time=io.grpc.netty.shaded.io.netty.util.internal.logging.Slf4JLoggerFactory \
       --initialize-at-build-time=io.grpc.netty.shaded.io.netty.util.internal.logging.Slf4JLoggerFactory$NopInstanceHolder
